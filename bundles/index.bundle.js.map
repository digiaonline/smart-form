{"version":3,"sources":["webpack:///webpack/bootstrap c7b64f4d0215dc7f4b16","webpack:///./src/index.js","webpack:///./src/components/SmartForm.js","webpack:///external \"react\"","webpack:///./src/components/DefaultIteratorComponent.js","webpack:///./src/components/DefaultFieldComponent.js","webpack:///./src/defaultValidators.js","webpack:///./src/validators/validateRequired.js","webpack:///./src/validators/validateRequiredIf.js","webpack:///./src/validators/validateRequiredIfEnabled.js","webpack:///./src/validators/validateConditionIsMet.js","webpack:///external \"lodash/mapValues\"","webpack:///external \"lodash/keyBy\"","webpack:///external \"lodash/get\"","webpack:///./src/utils/getResultOfValidationRule.js","webpack:///external \"react-redux\"","webpack:///external \"redux-form\"","webpack:///./src/utils/resolveCondition.js","webpack:///./src/utils/resolveValue.js"],"names":["SmartForm","defaultValidators","mapDispatchToProps","dispatch","changeValue","form","field","value","state","wholeFormState","props","enabledDisabledMap","currentValues","_enabledDisabledMap","validateSynchronously","bind","renderField","recalculateState","values","getValuesOfCurrentForm","template","formTemplate","valueMap","listOfEnabledDisabledFlags","listOfFieldNames","map","fieldName","isEnabled","calculateIfFieldIsEnabled","newValues","forEach","changedMap","Object","keys","updateValues","fieldsByName","setState","changedValues","entry","changeCondition","getValidationContext","formId","targetValue","listOfValidationMessages","message","getValidationMessageForField","filter","length","validationMessages","fieldTemplate","isFieldEnabled","currentValue","validationMeta","context","Array","isArray","validationRules","messages","validationRule","possibleMessage","join","enabledIfCondition","undefined","allValidators","validators","allValues","resolveCondition","resolveValue","formName","getValuesOfForm","fieldComponent","Error","fieldComponentProps","TheIteratorComponent","iteratorComponent","reduxFormProps","defaultProps","FormComponent","children","DefaultFieldComponent","console","warn","Required","RequiredIf","RequiredIfEnabled","ConditionIsMet","validateRequired","rule","hasValue","trim","validateRequiredIf","condition","validateRequiredIfEnabled","getResultOfValidationRule","type","validator","leftValue","rightValue","op","parseFloat","indexOf","descriptor","path","JSON","stringify"],"mappings":"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","file":"index.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c7b64f4d0215dc7f4b16","// @flow\nimport SmartForm from './components/SmartForm';\nimport defaultValidators from './defaultValidators';\n\nexport {SmartForm, defaultValidators};\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// @flow\nimport React, { Component } from 'react';\nimport type {\n  Form, IteratorComponent, FieldComponent, Condition, Value, FieldValidationMeta, FieldValidationRule, ValidatorFunction, ValidationContext\n} from '../types';\nimport DefaultIteratorComponent from './DefaultIteratorComponent';\nimport DefaultFieldComponent from './DefaultFieldComponent';\nimport defaultValidators from '../defaultValidators';\nimport mapValues from 'lodash/mapValues';\nimport keyBy from 'lodash/keyBy';\nimport get from 'lodash/get';\nimport getResultOfValidationRule from '../utils/getResultOfValidationRule';\n// $FlowFixMe\nimport { connect } from 'react-redux';\n// $FlowFixMe\nimport { reduxForm, Field, change } from 'redux-form';\n\nimport resolveCondition from '../utils/resolveCondition';\nimport resolveValue from '../utils/resolveValue';\n\ntype SmartFormProps = {\n  formTemplate: Form,\n  formId: string,\n  reduxFormProps: Object,\n  iteratorComponent: IteratorComponent,\n  fieldComponent: FieldComponent,\n  wholeFormState: Object,\n  validators: {[type: string]: ValidatorFunction},\n  changeValue: Function,\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    changeValue: (form, field, value) => {\n      dispatch(change(form, field, value))\n    }\n  }\n}\n\nexport default connect(\n  (state) => ({ wholeFormState: state.form }), mapDispatchToProps\n)(class SmartForm extends Component {\n  props: SmartFormProps;\n  state: {\n    enabledDisabledMap: {[fieldName: string]: boolean},\n    currentValues: {fieldName: string, value: string},\n  };\n  static defaultProps = {\n    reduxFormProps: {},\n    iteratorComponent: DefaultIteratorComponent,\n    fieldComponent: DefaultFieldComponent,\n    validators: defaultValidators\n  };\n\n  _enabledDisabledMap: {[fieldName: string]: boolean};\n\n  constructor(props: SmartFormProps) {\n    super(props);\n    this.state = {\n      enabledDisabledMap: {},\n      currentValues: {},\n    };\n\n    // @todo: This is a hack. Remove it, and use context types instead :)\n    this._enabledDisabledMap = {};\n\n    // $FlowFixMe\n    this.validateSynchronously = this.validateSynchronously.bind(this);\n\n    // $FlowFixMe\n    this.renderField = this.renderField.bind(this);\n  }\n\n  componentWillMount() {\n    this.recalculateState();\n  }\n\n  recalculateState() {\n    const values = this.getValuesOfCurrentForm();\n    const template = this.props.formTemplate;\n    const valueMap = this.state.currentValues || {}\n\n    const listOfEnabledDisabledFlags =\n      template.listOfFieldNames\n      .map((fieldName) => ({\n        fieldName,\n        isEnabled: this.calculateIfFieldIsEnabled(fieldName)\n      }));\n\n    const newValues = {}\n    template.listOfFieldNames\n      .forEach((fieldName) => newValues[fieldName] = values[fieldName])\n\n    const changedMap = {}\n    Object.keys(newValues).forEach(value => changedMap[value] = newValues[value] !== valueMap[value])\n\n    this.updateValues(changedMap, template.fieldsByName)\n\n    const enabledDisabledMap =\n      mapValues(\n        keyBy(listOfEnabledDisabledFlags, 'fieldName'),\n        'isEnabled'\n      );\n    this._enabledDisabledMap = enabledDisabledMap;\n    this.setState({ enabledDisabledMap, currentValues: newValues });\n  }\n\n  updateValues(changedValues: Object, template: Object) {\n    Object.keys(template).forEach(fieldName => {\n      const entry = template[fieldName]\n      const changeCondition = get(entry, ['meta', 'forceChangeValue']);\n\n      if (changeCondition && changedValues[get(changeCondition, ['rightValue', 'path', '1'])]\n          && resolveCondition(changeCondition, '', this.getValidationContext())) {\n\n        this.props.changeValue(this.props.formId, fieldName, changeCondition.targetValue)\n      }\n    })\n  }\n\n  validateSynchronously() {\n    this.recalculateState();\n    const template = this.props.formTemplate;\n    const listOfValidationMessages =\n      template.listOfFieldNames\n      .map((fieldName) => ({\n        fieldName,\n        message: this.getValidationMessageForField(fieldName)\n      }))\n      .filter(({ message }) => typeof message === 'string' && message.length > 0);\n\n    const validationMessages =\n      mapValues(\n        keyBy(listOfValidationMessages, 'fieldName'),\n        'message'\n      );\n\n    return validationMessages;\n  }\n\n  getValidationMessageForField(fieldName: string): void | string {\n    const formTemplate = this.props.formTemplate;\n    const fieldTemplate = formTemplate.fieldsByName[fieldName];\n    const isEnabled = this.isFieldEnabled(fieldName);\n    const values = this.getValuesOfCurrentForm();\n    const currentValue = values[fieldName];\n    const validationMeta : FieldValidationMeta = get(fieldTemplate, ['meta', 'validation']);\n    const context = this.getValidationContext();\n\n    if (typeof validationMeta !== 'object' || !Array.isArray(validationMeta.validationRules)) {\n      return;\n    }\n\n    const messages =\n      validationMeta.validationRules.map(\n        (validationRule) => getResultOfValidationRule(validationRule, {...context, currentValue, isEnabled})\n      ).filter((possibleMessage) => typeof possibleMessage === 'string');\n\n    if (messages.length > 0) {\n      return messages.join(', ');\n    } else {\n      return;\n    }\n  }\n\n  isFieldEnabled(fieldName: string): boolean {\n    return this._enabledDisabledMap[fieldName] !== false;\n  }\n\n  calculateIfFieldIsEnabled(fieldName: string): boolean {\n    const values = this.getValuesOfCurrentForm();\n    const formTemplate = this.props.formTemplate;\n    const fieldTemplate = formTemplate.fieldsByName[fieldName];\n    const value = values[fieldName];\n    const enabledIfCondition = get(fieldTemplate, ['meta', 'enabledIf']);\n    if (enabledIfCondition === undefined) {\n      return true;\n    } else {\n      return resolveCondition(enabledIfCondition, value, this.getValidationContext());\n    }\n  }\n\n  getValidationContext(): ValidationContext {\n    return {\n      allValidators: this.props.validators,\n      allValues: this.getValuesOfCurrentForm(),\n      resolveCondition, resolveValue\n    };\n  }\n\n  getValueOfField(fieldName: string): mixed {\n    return get(this.getValuesOfCurrentForm(), fieldName);\n  }\n\n  getValuesOfForm(formName: string): Object {\n    return get(this.props.wholeFormState, [formName, 'values']) || {};\n  }\n\n  getValuesOfCurrentForm(): Object {\n    return this.getValuesOfForm(this.props.formId);\n  }\n\n  renderField(fieldName: string) {\n    const { fieldComponent, formTemplate } = this.props;\n    const fieldTemplate = formTemplate.fieldsByName[fieldName];\n    if (!fieldTemplate) {\n      throw new Error(`Unkown field '${fieldName}'`);\n    }\n    const fieldComponentProps = {\n      fieldTemplate: fieldTemplate,\n      isEnabled: this.isFieldEnabled(fieldName)\n    };\n    return <Field key={`field-${fieldName}`} component={fieldComponent} name={fieldName} props={fieldComponentProps} />;\n  }\n\n  render() {\n    const { props } = this;\n    const TheIteratorComponent = props.iteratorComponent;\n\n    return (\n      <FormComponent key=\"form\" {...props.reduxFormProps} keepDirtyOnReinitialize={true} form={props.formId} validate={this.validateSynchronously}>\n        {/* $FlowFixMe */}\n        <TheIteratorComponent key=\"iterator\" formTemplate={this.props.formTemplate} renderField={this.renderField} _smartFormState={this.state} />\n      </FormComponent>\n    );\n  }\n});\n\nconst FormComponent = reduxForm()(({ children }) => children);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/SmartForm.js","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 2\n// module chunks = 0","import React from 'react';\nimport type { IteratorComponentProps } from '../types';\n\nexport default ({ formTemplate, renderField }: IteratorComponentProps) =>\n  (\n    <div key=\"container\">\n    {formTemplate.listOfFieldNames.map((fieldName) => renderField(fieldName))}\n    </div>\n  );\n\n\n// WEBPACK FOOTER //\n// ./src/components/DefaultIteratorComponent.js","// @flow\nimport React, { Component } from 'react';\nimport type { FieldComponentProps } from '../types';\n\nexport default class DefaultFieldComponent extends Component {\n  props: FieldComponentProps;\n\n  constructor(props: FieldComponentProps) {\n    super(props);\n  }\n\n  render() {\n    console.warn('Unimplemented');\n    return <div>Field here</div>;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/DefaultFieldComponent.js","// @flow\nimport Required from './validators/validateRequired';\nimport RequiredIf from './validators/validateRequiredIf';\nimport RequiredIfEnabled from './validators/validateRequiredIfEnabled';\nimport ConditionIsMet from './validators/validateConditionIsMet';\n\nexport default {Required, RequiredIf, RequiredIfEnabled, ConditionIsMet};\n\n\n// WEBPACK FOOTER //\n// ./src/defaultValidators.js","// @flow\nimport type {PropsToValidator, ValidatorFunctionReturnValue, RequiredValidationRule} from '../types';\n\nexport default function validateRequired(rule: RequiredValidationRule, {currentValue}: PropsToValidator): ValidatorFunctionReturnValue {\n  const hasValue = !(currentValue == null || currentValue == undefined || (typeof currentValue === 'string' && currentValue.trim().length === 0));\n\n  return hasValue ? undefined : rule.message;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/validators/validateRequired.js","// @flow\nimport type {PropsToValidator, ValidatorFunctionReturnValue, RequiredIfValidationRule, ValidationContext} from '../types';\n\nexport default function validateRequiredIf(rule: RequiredIfValidationRule, props: PropsToValidator & ValidationContext): ValidatorFunctionReturnValue {\n  const {currentValue, resolveCondition} = props;\n  const hasValue = !(currentValue == null || currentValue == undefined || (typeof currentValue === 'string' && currentValue.trim().length === 0));\n\n  return !hasValue && resolveCondition(rule.condition, currentValue, props) ? rule.message : undefined;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/validators/validateRequiredIf.js","// @flow\nimport type {PropsToValidator, ValidatorFunctionReturnValue, RequiredIfEnabledValidationRule} from '../types';\n\nexport default function validateRequiredIfEnabled(rule: RequiredIfEnabledValidationRule, {currentValue, isEnabled}: PropsToValidator): ValidatorFunctionReturnValue {\n  const hasValue = !(currentValue == null || currentValue == undefined || (typeof currentValue === 'string' && currentValue.trim().length === 0));\n\n  return isEnabled && !hasValue ? rule.message : undefined;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/validators/validateRequiredIfEnabled.js","// @flow\nimport type {PropsToValidator, ValidatorFunctionReturnValue, ConditionIsMetValidationRule, ValidationContext} from '../types';\n\nexport default function validateRequiredIf(rule: ConditionIsMetValidationRule, props: PropsToValidator & ValidationContext): ValidatorFunctionReturnValue {\n  const {currentValue, resolveCondition} = props;\n\n  return resolveCondition(rule.condition, currentValue, props) ? undefined : rule.message;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/validators/validateConditionIsMet.js","module.exports = require(\"lodash/mapValues\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/mapValues\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"lodash/keyBy\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/keyBy\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"lodash/get\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/get\"\n// module id = 12\n// module chunks = 0","// @flow\nimport type {FieldValidationRule, PropsToValidator, ValidatorFunctionReturnValue} from '../types';\n\nexport default function getResultOfValidationRule(rule: FieldValidationRule, props: PropsToValidator): ValidatorFunctionReturnValue {\n  const type = typeof rule === 'string' ? rule : rule.type;\n  const validator = props.allValidators[type];\n  if (validator) {\n    return validator(rule, props);\n  } else {\n    throw new Error(`Unkown validator type '${type}'`);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/getResultOfValidationRule.js","module.exports = require(\"react-redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-redux\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"redux-form\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-form\"\n// module id = 15\n// module chunks = 0","// @flow\nimport type {Condition, ValidationContext} from '../types';\n\nexport default function resolveCondition(condition: Condition, currentValue: mixed, context: ValidationContext): boolean {\n  const {resolveValue} = context;\n  if (typeof condition === 'boolean') {\n    return condition;\n  }\n\n  if (typeof condition === 'object' && condition.type === 'Op') {\n    const leftValue: any = resolveValue(condition.leftValue, currentValue, context);\n    const rightValue: any = resolveValue(condition.rightValue, currentValue, context);\n\n    return (\n        condition.op === '>' ? (parseFloat(leftValue) > parseFloat(rightValue))\n      : condition.op === '>=' ? (parseFloat(leftValue) >= parseFloat(rightValue))\n      : condition.op === '==' ? (leftValue === rightValue)\n      : condition.op === '!=' ? (leftValue !== rightValue)\n      : condition.op === '<' ? (parseFloat(leftValue) < parseFloat(rightValue))\n      : condition.op === '<=' ? (parseFloat(leftValue) <= parseFloat(rightValue))\n      : condition.op === 'ArrayIncludes' ? Array.isArray(leftValue) && leftValue.indexOf(rightValue) !== -1\n      // $FlowFixMe\n      : (() => {throw new Error(\"Unkown operator \" + condition.op)})()\n    );\n  } else {\n    throw new Error('Invalid condition object ' + condition);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/resolveCondition.js","// @flow\nimport type {Value, ValidationContext} from '../types';\n\nexport default function resolveValue(descriptor: Value, currentValue: mixed, context: ValidationContext): mixed {\n  if (['string', 'boolean', 'number'].indexOf(typeof descriptor) !== -1 || Array.isArray(descriptor)) {\n    return descriptor;\n  }\n\n  const {allValues} = context;\n\n  if (typeof descriptor === 'object' && descriptor.type === 'Reference') {\n    const { path } = descriptor;\n    if (path[0] === '$currentValue' && path.length === 1) {\n      return currentValue;\n    } else if (path[0] === '$currentForm' && path.length === 2) {\n      return allValues[path[1]];\n    } else {\n      throw new Error('Invalid reference path ' + JSON.stringify(path));\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/resolveValue.js"],"sourceRoot":""}